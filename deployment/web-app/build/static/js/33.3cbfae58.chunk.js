(this["webpackJsonpdocumentary-management"]=this["webpackJsonpdocumentary-management"]||[]).push([[33],{844:function(e,a,t){"use strict";t.r(a);var n=t(3),r=t(5),l=t(7),c=t(6),s=t(0),o=t.n(s),m=t(196),i=t(491),d=t(486),p=t(13),u=t.n(p),h=t(86),b=t(25),f=t(92),E=function(e){Object(l.a)(t,e);var a=Object(c.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=a.call.apply(a,[this].concat(l))).currentFolder=null,e}return Object(r.a)(t,[{key:"componentDidMount",value:function(){this.currentFolder!==this.props.match.params.folder&&(this.props.dispatch(Object(f.d)(this.props.match.params.folder)),this.currentFolder=this.props.match.params.folder)}},{key:"componentDidUpdate",value:function(e,a,t){e.match.params.folder!==this.props.match.params.folder&&(this.props.dispatch(Object(f.d)(this.props.match.params.folder)),this.currentFolder=this.props.match.params.folder)}},{key:"getTeaser",value:function(e){var a=e.body.replace(/<[^<>]+?>/gm," ").replace(/(\s{2}|\n)/gm," "),t=55-e.subject.length;return a.length>t?a.substring(0,t)+"...":a}},{key:"getAttachmentsTooltip",value:function(e){if(e.attachments&&e.attachments.length){var a="message-"+e._id+"-attachments-tooltip",t="FILES: "+e.attachments.map((function(e){return e.name})).join(", ");return o.a.createElement(i.a,{placement:"left",overlay:o.a.createElement(d.a,{id:a},t)},o.a.createElement("span",{className:"txt-color-darken"},o.a.createElement("i",{className:"fa fa-paperclip fa-lg"})))}return""}},{key:"getMessageLabels",value:function(e){var a={home:{name:"HOME",color:"teal"},work:{name:"WORK",color:"orange"}};return e.labels?e.labels.map((function(t,n){return o.a.createElement("span",{key:e._id+n,className:"label bg-color-"+a[t].color},a[t].name)})):""}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"table-wrap custom-scroll"},o.a.createElement("table",{id:"inbox-table",className:"table table-striped table-hover"},o.a.createElement("tbody",null,this.props.messages.map((function(a){var t=u()({unread:!a.read});return a.folder===e.props.match.params.folder?o.a.createElement("tr",{key:a._id,id:"msg1",className:t},o.a.createElement("td",{className:"inbox-table-icon"},o.a.createElement("div",{className:"checkbox"},o.a.createElement("label",null,o.a.createElement("input",{type:"checkbox",className:"checkbox style-2"}),o.a.createElement("span",null)))),o.a.createElement("td",{className:"inbox-data-from hidden-xs hidden-sm"},o.a.createElement(m.a,{to:"/outlook/detail/"+a._id},o.a.createElement("div",null,a.contact.name))),o.a.createElement("td",{className:"inbox-data-message"},o.a.createElement(m.a,{to:"/outlook/detail/"+a._id},o.a.createElement("div",null,o.a.createElement("span",null,e.getMessageLabels(a),a.subject),e.getTeaser(a)))),o.a.createElement("td",{className:"inbox-data-attachment hidden-xs"},o.a.createElement(m.a,{to:"/outlook/detail/"+a._id},e.getAttachmentsTooltip(a))),o.a.createElement("td",{className:"inbox-data-date hidden-xs"},o.a.createElement(h.b,{date:a.date,format:"h:mm a"}))):null})))))}}]),t}(o.a.Component);a.default=Object(b.b)((function(e){return e.outlook}))(E)}}]);