(this["webpackJsonpdocumentary-management"]=this["webpackJsonpdocumentary-management"]||[]).push([[15],{495:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(3),i=n(5),o=n(109),r=n(7),l=n(6),s=n(0),d=n.n(s),c=n(31),u=n(1),h=n.n(u),m=(n(513),d.a.createContext()),v=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).state={isValid:void 0,validates:[]},i.handleStateChange=i.handleStateChange.bind(Object(o.a)(i)),i.handleFieldChange=i.handleFieldChange.bind(Object(o.a)(i)),i.handleValidateField=i.handleValidateField.bind(Object(o.a)(i)),i.getFieldValid=i.getFieldValid.bind(Object(o.a)(i)),i}return Object(i.a)(n,[{key:"handleStateChange",value:function(e){this.setState({isValid:e}),void 0!=this.props.onStateChange&&this.props.onStateChange(e)}},{key:"handleValidateField",value:function(e){var t=this.state.validates;(null===t||void 0===t?void 0:t.find((function(t){return t.field===e.field})))?t.forEach((function(t){t.field===e.field&&(t.valid=e.valid)})):t.push(e),this.setState({validates:t})}},{key:"handleFieldChange",value:function(e,t){"VALID"!==t.status&&"INVALID"!==t.status||this.handleValidateField({field:t.field,valid:"VALID"===t.status})}},{key:"componentDidMount",value:function(){var e=this;this.instance=h()(Object(c.findDOMNode)(this)).bootstrapValidator(this.props.options||{}).on("success.form.bv",(function(t,n){e.handleStateChange(!0)})).on("error.form.bv",(function(t,n){e.handleStateChange(!1)})).on("success.field.bv",(function(e,t){})).on("error.field.bv",(function(e,t){})).on("status.field.bv",(function(t,n){e.handleFieldChange(t,n)})).on("success.validator.bv",(function(e,t){})).on("error.validator.bv",(function(e,t){})).data("bootstrapValidator")}},{key:"isValid",value:function(){var e=h()(Object(c.findDOMNode)(this)).data("bootstrapValidator");return e.validate(),e.isValid()}},{key:"resetForm",value:function(){h()(Object(c.findDOMNode)(this)).data("bootstrapValidator").resetForm()}},{key:"getFieldValid",value:function(e){var t=h()(Object(c.findDOMNode)(this)).data("bootstrapValidator");return void 0==t||null==this.state.validates.find((function(t){return t.field===e}))?null:t.isValidField(e)}},{key:"render",value:function(){var e=this;return d.a.createElement(m.Provider,{value:{state:this.state,isValid:function(t){return e.getFieldValid(t)}}},this.props.children)}}]),n}(d.a.Component);v.defaultProps={options:{},onStateChange:function(){},onFieldChange:function(){}},t.b=v},496:function(e,t,n){"use strict";var a=n(81);n.d(t,"c",(function(){return a.b}));var i=n(29);n.d(t,"a",(function(){return i.a}));n(90);var o=n(126);n.d(t,"b",(function(){return o.a})),n.d(t,"d",(function(){return o.b}))},498:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));var a=n(53),i=n.n(a);function o(e,t,n){return/^[\d\w_]+$/.test(e)}function r(e,t,n){return null==e||void 0==e||""==e.trim()||10==e.length&&i()(e,"DD/MM/YYYY").isValid()}},500:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={color:"darken"}},501:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(3),i=n(5),o=n(7),r=n(6),l=n(0),s=function(e){Object(o.a)(n,e);var t=Object(r.a)(n);function n(){var e;Object(a.a)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).form=void 0,e.divForm=void 0,e.validator=void 0,e}return Object(i.a)(n,[{key:"handleSave",value:function(){var e;void 0!=this.form?null===(e=this.form)||void 0===e||e.dispatchEvent(new Event("submit")):void 0!=this.divForm&&this.onSubmit()}},{key:"create",value:function(e){this.setState({isShow:!0,model:e||{},id:0,isEdit:!1})}},{key:"edit",value:function(e,t){this.setState({isShow:!0,model:t,id:e,isEdit:!0})}},{key:"handleClose",value:function(){this.setState({isShow:!1}),void 0!==this.props.onCancle&&this.props.onCancle()}},{key:"handleInputChange",value:function(e){var t=this.state.model||{},n=e.target.name,a="checkbox"===e.target.type?e.target.checked:e.target.value;t[n]=a,this.setState({model:t})}}]),n}(l.Component)},508:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(3),i=n(5),o=n(109),r=n(7),l=n(6),s=n(0),d=n.n(s),c=n(506),u=n.n(c),h=[],m=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).dataGrid=void 0,i.onSelectionChanged=i.onSelectionChanged.bind(Object(o.a)(i)),i.onToolbarPreparing=i.onToolbarPreparing.bind(Object(o.a)(i)),i.handlePrintClick=i.handlePrintClick.bind(Object(o.a)(i)),i}return Object(i.a)(n,[{key:"onSelectionChanged",value:function(e){if("single"===this.props.selectionMode){var t,n,a,i;if(null===(t=e.component)||void 0===t?void 0:t.option("customSelection"))return;null===(n=e.component)||void 0===n||n.option("customSelection",!0),null===(a=e.component)||void 0===a||a.selectRows(void 0!==e.currentSelectedRowKeys?e.currentSelectedRowKeys[0]:void 0,!1),null===(i=e.component)||void 0===i||i.option("customSelection",!1)}void 0!==this.props.onSelectionChanged&&this.props.onSelectionChanged(e)}},{key:"refresh",value:function(){var e;null===(e=this.dataGrid)||void 0===e||e.instance.refresh()}},{key:"addNewRow",value:function(){void 0!==this.props.onAddNewRowCustom&&this.props.onAddNewRowCustom()}},{key:"handlePrintClick",value:function(){void 0!==this.props.onPrinting&&this.props.onPrinting()}},{key:"onToolbarPreparing",value:function(e){var t,n,a,i,o,r,l,s;(null===(t=e.toolbarOptions)||void 0===t||null===(n=t.items)||void 0===n||n.forEach((function(e){"dxButton"===e.widget&&h.indexOf(e.name)<0&&(e.location="before")})),!0===this.props.usePrint)&&(null===(o=e.toolbarOptions)||void 0===o||null===(r=o.items)||void 0===r||r.unshift({location:"before",widget:"dxButton",options:{icon:"print",onClick:this.handlePrintClick}}));(null===(a=e.toolbarOptions)||void 0===a||null===(i=a.items)||void 0===i||i.unshift({location:"before",widget:"dxButton",options:{icon:"refresh",onClick:this.refresh.bind(this)}}),!0===!this.props.removeButtonAdd)&&(null===(l=e.toolbarOptions)||void 0===l||null===(s=l.items)||void 0===s||s.unshift({location:"before",widget:"dxButton",options:{icon:"plus",onClick:this.addNewRow.bind(this)}}));void 0!==this.props.onToolbarPreparing&&this.props.onToolbarPreparing(e)}},{key:"render",value:function(){var e=this,t={};"none"!==this.props.selectionMode&&(t={mode:"multiple",selectAllMode:"page",allowSelectAll:"multiple"===this.props.selectionMode,showCheckBoxesMode:"always"});var n={showBorders:!0,remoteOperations:!0,rowAlternationEnabled:!0,showRowLines:!0,loadPanel:{text:"\u0110ang t\u1ea3i..."},noDataText:"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u",selection:t,customSelection:!1,filterRow:{visible:!0},searchPanel:{visible:!0,width:350,placeholder:"T\xecm ki\u1ebfm..."},stateStoring:{type:"localStorage",enabled:!0,storageKey:this.props.gridName},columnChooser:{enabled:!0,title:"Ch\u1ecdn c\u1ed9t",mode:"select",emptyPanelText:"Kh\xf4ng c\xf3 c\u1ed9t n\xe0o"},columnResizingMode:"nextColumn",allowColumnResizing:!0,columnAutoWidth:!0},a=Object.assign({},n,this.props.customEditing?{editing:{allowAdding:!0,allowUpdating:!0,allowDeleting:!0,mode:"row",confirmDelete:!0,selectTextOnEditStart:!0,useIcons:!0}}:{},this.props,{onSelectionChanged:this.onSelectionChanged,onToolbarPreparing:this.onToolbarPreparing,onInitialized:function(t){var n;null===(n=t.element)||void 0===n||n.classList.add("dx-datagrid-smart"),void 0!==e.props.onInitialized&&e.props.onInitialized(t)}});return d.a.createElement(u.a,Object.assign({ref:function(t){return e.dataGrid=t||void 0}},a),this.props.children,!0===this.props.customEditing?d.a.createElement(c.Editing,a.editing):null,d.a.createElement(c.Paging,{defaultPageSize:10}),d.a.createElement(c.Pager,{showPageSizeSelector:!0,showNavigationButtons:!0,visible:!0,showInfo:!0,allowedPageSizes:[5,10,25,50,100]}))}}]),n}(s.Component)},514:function(e,t,n){"use strict";var a=n(4),i=n.n(a),o=n(10),r=n(3),l=n(5),s=n(7),d=n(6),c=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){return Object(r.a)(this,n),t.call(this,"id","documenttype")}return Object(l.a)(n,[{key:"GetCustomData",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.httpBase.get("");case 2:return t=e.sent,e.abrupt("return",this.processResponseData(t));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(n(125).b);t.a=new c},515:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n(3),i=n(5),o=n(7),r=n(6),l=n(0),s=n.n(l),d=n(488),c=n(495),u=n(199),h=n(501),m={feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{code:{group:".col-md-10",validators:{notEmpty:{message:"B\u1ea1n ch\u01b0a nh\u1eadp m\xe3 lo\u1ea1i v\u0103n b\u1ea3n"},stringLength:{max:50,message:"Nh\u1eadp t\u1ed1i \u0111a 50 k\xfd t\u1ef1"},callback:{message:"M\xe3 ch\u1ec9 bao g\u1ed3m ch\u1eef s\u1ed1, ch\u1eef c\xe1i v\xe0 d\u1ea5u g\u1ea1ch d\u01b0\u1edbi",callback:n(498).a}}},name:{group:".col-md-10",validators:{notEmpty:{message:"B\u1ea1n ch\u01b0a nh\u1eadp t\xean lo\u1ea1i v\u0103n b\u1ea3n"},stringLength:{max:250,message:"Nh\u1eadp t\u1ed1i \u0111a 250 k\xfd t\u1ef1"}}},description:{group:".col-md-10",validators:{stringLength:{max:2e3,message:"Nh\u1eadp t\u1ed1i \u0111a 2000 k\xfd t\u1ef1"}}}}},v=function(e){Object(o.a)(n,e);var t=Object(r.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).state={isShow:!1,model:i.props.model||{},id:i.props.id,isEdit:!1},i}return Object(i.a)(n,[{key:"onSubmit",value:function(e){var t;null===e||void 0===e||e.preventDefault(),(null===(t=this.validator)||void 0===t?void 0:t.isValid())?void 0!==this.props.onSave&&this.props.onSave(this.state.id||0,this.state.model):Object(u.a)("Th\xf4ng b\xe1o","D\u1eef li\u1ec7u nh\u1eadp ch\u01b0a ch\xednh x\xe1c","error","fa fa-remove")}},{key:"render",value:function(){var e=this;return s.a.createElement(d.a,{show:this.state.isShow,onHide:function(){return e.setState({isShow:!1})}},s.a.createElement(d.a.Header,{closeButton:!0},s.a.createElement(d.a.Title,null,this.state.isEdit?"C\u1eadp nh\u1eadt":"Th\xeam m\u1edbi "," lo\u1ea1i v\u0103n b\u1ea3n")),s.a.createElement(d.a.Body,null,s.a.createElement(c.b,{ref:function(t){return e.validator=t||void 0},options:m},s.a.createElement("div",{ref:function(t){return e.divForm=t||void 0},className:"form-horizontal"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label col-md-2"},"M\xe3 lo\u1ea1i",s.a.createElement("span",{className:"text-required"},"(*)")),s.a.createElement("div",{className:"col-md-10"},s.a.createElement("input",{type:"text",onChange:this.handleInputChange.bind(this),value:this.state.model.code,name:"code",className:"form-control"}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label col-md-2"},"T\xean lo\u1ea1i",s.a.createElement("span",{className:"text-required"},"(*)")),s.a.createElement("div",{className:"col-md-10"},s.a.createElement("input",{type:"text",onChange:this.handleInputChange.bind(this),name:"name",value:this.state.model.name,className:"form-control"}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label col-md-2"},"Ghi ch\xfa"),s.a.createElement("div",{className:"col-md-10"},s.a.createElement("textarea",{rows:4,onChange:this.handleInputChange.bind(this),name:"description",value:this.state.model.description,className:"form-control"})))))),s.a.createElement(d.a.Footer,null,s.a.createElement("button",{type:"button",className:"btn btn-info",onClick:this.handleSave.bind(this)},s.a.createElement("i",{className:"fa fa-save"})," L\u01b0u l\u1ea1i"),s.a.createElement("button",{type:"button",className:"btn btn-default",onClick:this.handleClose.bind(this)},s.a.createElement("i",{className:"fa fa-remove"})," \u0110\xf3ng")))}}]),n}(h.a)},516:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(3),i=n(5),o=function(){function e(t){if(Object(a.a)(this,e),this.code=void 0,this.name=void 0,this.description=void 0,this.creationId=void 0,this.creationDate=void 0,this.updatedId=void 0,this.updatedDate=void 0,t)for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n]);else this.code="",this.name="",this.description="",this.creationId=0,this.creationDate=null,this.updatedId=0,this.updatedDate=null}return Object(i.a)(e,[{key:"init",value:function(e){e&&(this.code=e.code,this.name=e.name,this.description=e.description,this.creationId=e.creationId,this.creationDate=e.creationDate?new Date(e.creationDate.toString()):void 0,this.updatedId=e.updatedId,this.updatedDate=e.updatedDate?new Date(e.updatedDate.toString()):void 0)}},{key:"toJSON",value:function(e){return(e="object"===typeof e?e:{}).code=this.code,e.name=this.name,e.description=this.description,e.creationId=this.creationId,e.creationDate=this.creationDate?this.creationDate.toISOString():void 0,e.updatedId=this.updatedId,e.updatedDate=this.updatedDate?this.updatedDate.toISOString():void 0,e}}],[{key:"fromJS",value:function(t){t="object"===typeof t?t:{};var n=new e;return n.init(t),n}}]),e}()},837:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y}));var a,i=n(3),o=n(5),r=n(7),l=n(6),s=n(0),d=n.n(s),c=n(47),u=n(50),h=n(506),m=n(514),v=n(496),p=n(508),f=n(133),b=n(199),g=n(515),E=n(516),C=n(500),S=m.a.GetAspNetDataSource(),y=Object(c.b)(u.a.BreadcrumbStore,u.a.AccountStore,u.a.AuthenticationStore,u.a.SessionStore)(a=Object(c.c)(a=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(e){var a,o;return Object(i.a)(this,n),(o=t.call(this,e)).dataGrid=void 0,o.editComponent=void 0,null===(a=o.props.breadcrumbStore)||void 0===a||a.setItems(["Danh m\u1ee5c","Lo\u1ea1i v\u0103n b\u1ea3n"]),o}return Object(o.a)(n,[{key:"componentDidMount",value:function(){}},{key:"onGridEditData",value:function(e){var t,n=Object.assign({},e.data);null===(t=this.editComponent)||void 0===t||t.edit(n.id,n)}},{key:"onGridDeleteData",value:function(e){var t=this,n=Object.assign({},e.data);Object(f.confirm)("B\u1ea1n c\xf3 mu\u1ed1n x\xf3a b\u1ea3n ghi n\xe0y kh\xf4ng?","X\xf3a lo\u1ea1i v\u0103n b\u1ea3n").then((function(e){e&&m.a.delete(n.id).then((function(e){var n;Object(b.a)("Th\xf4ng b\xe1o","X\xf3a d\u1eef li\u1ec7u th\xe0nh c\xf4ng","success"),null===(n=t.dataGrid)||void 0===n||n.refresh()}))}))}},{key:"handleAdNewRow",value:function(){var e,t=new E.a;null===(e=this.editComponent)||void 0===e||e.create(t)}},{key:"handleSave",value:function(e,t){var n=this;e>0?m.a.update(t).then((function(e){var t,a;Object(b.a)("","C\u1eadp nh\u1eadt lo\u1ea1i v\u0103n b\u1ea3n th\xe0nh c\xf4ng","success"),null===(t=n.dataGrid)||void 0===t||t.refresh(),null===(a=n.editComponent)||void 0===a||a.handleClose()})):m.a.create(t).then((function(e){var t,a;Object(b.a)("","Th\xeam m\u1edbi lo\u1ea1i v\u0103n b\u1ea3n th\xe0nh c\xf4ng","success"),null===(t=n.dataGrid)||void 0===t||t.refresh(),null===(a=n.editComponent)||void 0===a||a.handleClose()}))}},{key:"render",value:function(){var e,t,n=this;return d.a.createElement("div",{id:"content"},1==(null===(e=this.props.breadcrumbStore)||void 0===e?void 0:e.useBigBreadcrum)?d.a.createElement("div",{className:"row"},d.a.createElement(v.a,{items:["Danh m\u1ee5c","Lo\u1ea1i v\u0103n b\u1ea3n"],icon:"fa fa-fw fa-table"}),1==(null===(t=this.props.breadcrumbStore)||void 0===t?void 0:t.useBigBreadcrum)?d.a.createElement(v.c,null):null):null,d.a.createElement(v.d,null,d.a.createElement("div",{className:"row"},d.a.createElement("article",{className:"col-sm-12"},d.a.createElement(v.b,{id:"wid-id-list-loai-van-ban",editbutton:!1,color:C.a.color,refresh:!0},d.a.createElement("header",null,d.a.createElement("span",{className:"widget-icon"},d.a.createElement("i",{className:"fa fa-table"})),d.a.createElement("h2",null,"Danh s\xe1ch lo\u1ea1i v\u0103n b\u1ea3n")),d.a.createElement("div",null,d.a.createElement("div",{className:"widget-body no-padding"},d.a.createElement(p.a,{ref:function(e){return n.dataGrid=e||void 0},gridName:"grid-loai-van-ban",onAddNewRowCustom:this.handleAdNewRow.bind(this),keyExpr:"id",customEditing:!1,dataSource:S,selectionMode:"single",onSelectionChanged:function(e){return console.log(e)}},d.a.createElement(h.Column,{dataField:"code",caption:"M\xe3",dataType:"string"}),d.a.createElement(h.Column,{dataField:"name",caption:"T\xean",dataType:"string"}),d.a.createElement(h.Column,{dataField:"description",caption:"Ghi ch\xfa",dataType:"string"}),d.a.createElement(h.Column,{dataField:"id",caption:"Ch\u1ee9c n\u0103ng",width:100,alignment:"center",cellRender:function(e){return d.a.createElement(d.a.Fragment,null,d.a.createElement("button",{type:"button",onClick:n.onGridEditData.bind(n,e),className:"btn-sm btn btn-info btn-grid-func"},d.a.createElement("i",{className:"fa fa-pencil"})),d.a.createElement("button",{type:"button",onClick:n.onGridDeleteData.bind(n,e),className:"btn-sm btn btn-danger btn-grid-func"},d.a.createElement("i",{className:"fa fa-trash"})))},type:"buttons"})))))))),d.a.createElement(g.a,{ref:function(e){return n.editComponent=e||void 0},onSave:this.handleSave.bind(this)}))}}]),n}(s.Component))||a)||a}}]);